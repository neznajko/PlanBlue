////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
package com.planblue;
////////////////////////////////////////////////////////////////
import java.awt.Graphics;
////////////////////////////////////////////////////////////////
class Plane extends Sprite {
    Bullet bullet;
    Plane( int x, int y, String name, String bullet_name ){
        super( x, y, ImageCache.get( name ));
        visible = true;
        bullet = new Bullet( bullet_name );
    }
    // put bullet in front of the plane
    void fire() {
        if( bullet.visible ) return;
        bullet.x = x + ( width - bullet.width )/ 2;
        bullet.y = y - bullet.height;
        bullet.visible = true;
    }
    // there is a dedicated thread that do only thus
    void movebullet() {
        if( bullet.visible ){
            bullet.move( 0, -3 );
        }
    }
    @Override
    void draw( Graphics g ){
        super.draw( g );
        bullet.draw( g );
    }
    void reset() {
        x = ( PlanBlue.WIDTH - width )/ 2;
        y = PlanBlue.HEIGHT - height * 3 / 2;
        visible = true;
    }
    static Plane factory( int x, int y, String name ){
        if( name == "blue_plane" ){
            return new Plane( x, y, name, "red_bullet" );
        }
        if( name == "red_plane" ){
            return new Plane( x, y, name, "blue_bullet" );
        }
        return null;
    }
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
//////////////////////   ///////////////////////////////////////
/////////////////////// ////////////////////////////////////////
//////////////////   / /   /   /   /////////////////////////////
///////////////// / / /// / / / / //////////////////////////////
////////////////   / /   / / /   ///////////////////////////////
/////////////// /// / / / / / //////////////////////////////////
////////////// /// /   / / /   /////////////////////////////////
