////////////////////////////////////////////////////////////////
package com.planblue;
////////////////////////////////////////////////////////////////
import java.awt.Graphics;
////////////////////////////////////////////////////////////////
import java.awt.image.BufferedImage;
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
class TiledLayer {
    BufferedImage image;
    int [][] map;
    int tiledWidth;
    int tiledHeight;
    int viewX;
    int viewY;
    int n;
    int m;
    TiledLayer( BufferedImage image, int [][] map ){
        this.image = image;
        n = map.length;
        m = map[ 0 ].length;
        this.map = map;
        
    }
    void setTiledSize( int tiledWidth, int tiledHeight ){
        this.tiledWidth = tiledWidth;
        this.tiledHeight = tiledHeight;
    }
    void setViewPort( int viewX, int viewY ){
        this.viewX = viewX;
        this.viewY = viewY;
    }
    void draw( Graphics g ){
        g.translate( viewX, viewY );
        for( int i = 0; i < n; i++ ){
            for( int j = 0; j < m; j++ ){
                int x = j * tiledWidth;
                int y = i * tiledHeight;
                g.setClip( x, y, tiledWidth, tiledHeight );
                g.drawImage( image,
                             x - ( map[i][j] - 1 ) * tiledWidth,
                             y,
                             null );
            }
        }
        g.setClip( 0, 0, PlanBlue.WIDTH , PlanBlue.HEIGHT - viewY );
        g.translate( -viewX, -viewY );
    }
}
////////////////////////////////////////////////////////////////
class MapLayer extends TiledLayer {
    private static int [][] map = {
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 5, 1, 1, 5, 1, 1, 1, 5, 5 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 4, 1, 1 },
        { 1, 4, 1, 1, 1, 4, 1, 1, 1, 1 },
        { 1, 1, 1, 4, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 4, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 4, 4, 1, 1, 4, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 3, 3, 3, 1, 1, 1 },
        { 1, 1, 3, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 3, 1, 1, 3, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 3, 1 },
        { 1, 1, 1, 1, 1, 1, 3, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 2, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 2, 1, 1, 1, 2, 1 },
        { 1, 1, 1, 2, 1, 1, 1, 1, 1, 1 },
        { 1, 2, 1, 1, 1, 1, 2, 1, 1, 2 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }
    };
    MapLayer() {
        super( ImageCache.get( "map" ), map );
        setTiledSize( 32, 32 );
    }
}
////////////////////////////////////////////////////////////////
class MapLayer2 extends TiledLayer {
    private static int [][] map = {
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 5, 1, 1, 5, 1, 1, 1, 5, 5 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 4, 1, 1 },
        { 1, 4, 1, 1, 1, 4, 1, 5, 1, 1 },
        { 1, 1, 1, 4, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 5, 4, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 5, 1, 1, 1 },
        { 1, 1, 5, 1, 4, 4, 1, 1, 4, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 5, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 3, 3, 3, 1, 1, 1 },
        { 1, 1, 3, 1, 1, 1, 1, 5, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 3, 1, 1, 3, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 3, 1 },
        { 1, 1, 5, 1, 1, 1, 3, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 5, 1, 1, 1 },
        { 1, 2, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 2, 1, 1, 1, 2, 1 },
        { 1, 1, 1, 2, 1, 1, 1, 1, 1, 1 },
        { 1, 2, 1, 1, 1, 1, 2, 1, 1, 2 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 5, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 5, 1, 1 },
        { 1, 1, 2, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 2, 1, 1, 1, 1 },
        { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
        { 1, 1, 1, 2, 1, 1, 1, 1, 1, 1 }
    };
    MapLayer2() {
        super( ImageCache.get( "map2" ), map );
        setTiledSize( 32, 32 );
    }
}
////////////////////////////////////////////////////////////////
///////////////////////////////
//////////////////////////////    
/////////////////////////////    ///////////////////////////////
////////////////////////////    ////
///////////////////////////    ////   //////////////////////////
//////////////////////////    ////   ///////////////////////////
/////////////////////////    ////   ////////////////////////////
////////////////////////    ////   /////////////////////////////
///////////////////////    ////   //////////////////////////////
//////////////////////    ////   ///////////////////////////////
/////////////////////    ////   ////////////////////////////////
